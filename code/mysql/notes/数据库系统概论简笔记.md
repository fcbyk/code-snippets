# 1 初识数据库系统
> 4个基本概念：数据、数据库、数据库管理系统、数据库系统

**数据管理技术的产生和发展**

- 人工管理阶段(20世纪50年代中之前)
- 文件系统阶段(20世纪50年代末-60年代中)
- 数据库系统阶段(20世纪60年代末-现在)

**数据库系统的特点**

- 数据结构化
- 数据的共享性高，冗余度低且易扩充
- 数据独立性高
- 数据由数据库管理系统统一管理和控制

**数据模型**
第一类数据模型：概念数据模型
第二类数据模型：逻辑数据模型（层次模型、网状模型、关系模型、面向对象数据模型）、物理数据模型
数据模型的组成要素：数据结构(静态特征)、数据操作(动态特征)、完整性约束
**相关概念**
型：指对某一类数据的结构和属性的说明
值：型的一个具体赋值
**数据库系统的结构**
**内部的系统结构(从开发人员角度看)**
三级模式结构

- 三级模式：外模式、模式、内模式
- 二级映像：外模式/模式映像、模式/内模式映像

相关概念

- 模式：模式是数据库中全体数据的逻辑结构和特征的描述，它仅仅涉及型的描述，不涉及具体的值
- 实例：模式的一个具体值，同一个模式可以有很多实例

**外部的体系结构(从最终用户角度看)**
单用户结构、主从式结构、分布式结构、客户-服务器、浏览器-应用服务器
# 2 关系模型的基本概念
**关系数据结构及形式化定义**
![image](https://github.com/fcbyk/hello-world/assets/101487905/86381151-847b-4367-8308-a0afec633bea)

**关系操作**

**关系数据语言分类**
![image](https://github.com/fcbyk/hello-world/assets/101487905/d27b29e9-0e84-4548-97c4-b57df8fdc950)

**常用的关系操作**

> 查询、插入、删除、修改

查询包括

![image](https://github.com/fcbyk/hello-world/assets/101487905/5927b557-52d7-4922-a875-2e04c0a28f7b)

**关系的完整性约束**

关系的两个不变性：实体完整性、参照完整性
用户定义的完整性：断言、触发器

# 3 关系数据库标准语言SQL
**SQL的特点**
综合统一
高度非过程化
面向集合的操作方式
以同一种语法结构提供多种使用方式
语言简洁，易学易用
**SQL的动词**
数据查询：select
数据定义：create、drop、alter
数据操纵(数据更新)：insert、update、delete
数据控制：grant、revoke
**SQL语句分类**
数据定义语言（DDL）：用于描述数据库中要存储的现实世界实体的语句
数据操纵语言（DML）：对表中数据的查询，插入，删除，修改
数据控制语言（DCL）：用于设置或更改数据库用户权限和角色权限的语句
事务控制语言（TCL）
# 4 数据库安全性
**数据库的不安全因素**
非授权用户对数据库的恶意存取和破坏
数据库中重要或敏感的数据被泄漏
安全环境的脆弱性
**安全标准**
TCSEC（可信计算机系统评估准则）
CC（通用准则）
**数据库安全性控制**
用户身份鉴别：静态口令鉴别、动态口令鉴别、生物特征鉴别、智能卡鉴别
存取控制：自主存取控制(DAC)、强制存取控制(MAC)
**其他**
视图机制、审计、数据加密
# 5 关系数据库设计
**数据库设计的特点**
数据库建设的基本规律：“三分技术，七分管理，十二分基础数据”
结构（数据）设计和行为（处理）设计相结合
**数据库设计的基本步骤**
需求分析
概念结构设计

- E-R图

逻辑结构设计

- 关系数据库的规范化理论
   - 数据依赖
      - 函数依赖(FD)：平凡函数依赖、非平凡函数依赖、完全函数依赖、部分函数依赖、传递函数依赖
      - 多值依赖(MVD)
   - 范式：1NF、2NF、3NF、BCNF、4NF
- 物理结构设计
   - 存取方法的选择
      - 索引方法：B+树索引、hash索引
      - 聚簇方法

数据库实施
数据库运行和维护
**数据字典**
数据项、数据结构、数据流、数据存储、处理过程
# 6 事务处理技术
> 事务的ACID特性：原子性、一致性、隔离性、持续性

**数据库恢复机制**
故障的种类：事务内部故障、系统故障、介质故障、计算机病毒
恢复的实现技术：自己看书
**并发控制机制**
> 并发操作带来的数据不一致性：丢失修改、不可重复读、读“脏”数据
并发控制的主要技术：封锁、时间戳、乐观控制法、多版本并发控制

**封锁**
**基本封锁类型**

- 排他锁（X锁）：又称为“写锁”
- 共享锁（S锁）：又称为“读锁”

**封锁协议**

- 一级封锁协议
- 二级封锁协议
- 三级封锁协议

**可能会出现的问题**

- 活锁
- 死锁

**封锁的粒度**

- 多粒度树
- 多粒度封锁协议
- 封锁的两种方式
   - 显式封锁
   - 隐式封锁
- 意向锁
   - 意向共享锁（IS锁）
   - 意向排他锁（IX锁）
   - 共享意向排他锁（SIX锁）

**并发调度**
**并发事物正确调度的准则**

- 可串行性

**判断是否为“可串行化调度”的充分不必要条件**

- 冲突可串行化调度
- 事务遵守“两段锁协议”
